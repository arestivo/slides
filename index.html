<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="css/font-awesome.css">
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/examples.css">
    <link rel="stylesheet" href="css/remark.search.css">
    <link rel="stylesheet" href="css/print.css" media="print">
  	<link rel="icon" type="image/ico" href="images/favicon.ico">
  </head>
  <body>
    <script src="script/remark.min.js" type="text/javascript"></script>
    <script src="script/jquery-2.2.4.min.js" type="text/javascript"></script>
    <script src="script/mark.min.js" type="text/javascript"></script>
    <script src="script/remark.search.js" type="text/javascript"></script>
    <script src="script/laser-pointer.js" type="text/javascript" defer></script>

    <script type="text/javascript">
      const hljs = remark.highlighter.engine;
    </script>

    <script type="text/javascript">
      const query = window.location.search
      const params = new URLSearchParams(query)
      const slides = params.get('s')

      if (slides) {
        const markdown = fetch(`markdown/${slides.toLowerCase()}.md`).then(r => {if (!r.ok) window.location = 'https:www.fe.up.pt/~arestivo/'})

        window.slideshow = remark.create({
          highlightStyle: 'default',
          highlightLines: false,
          highlightSpans: false,
          sourceUrl: `markdown/${slides.toLowerCase()}.md`
        })

        document.title = `AndrÃ© Restivo :: ${slides}`

        function initialize_search() {
          if (document.querySelector('.remark-slides-area') != null) {
            RemarkSearch.create();
            document.addEventListener('keyup', (e) => { if (e.key == 'l') laserToggle() })
            document.addEventListener('keyup', (e) => { if (e.key == 'x') paragraphFocusToggle() })
          } else setTimeout(initialize_search, 100)
        }

        setTimeout(initialize_search, 100)
      }
    </script>
  </body>
</html>
